var form_start=function(){$(function(){var a=$("#ajax-contact"),b=$("#form-messages");$(a).submit(function(c){c.preventDefault();var d=$(a).serialize();$.ajax({type:"POST",url:$(a).attr("action"),data:d}).done(function(a){$(b).removeClass("error"),$(b).addClass("success"),$(b).text(a),$(".field__textarea, .field__input").val("")}).fail(function(a){$(b).removeClass("success"),$(b).addClass("error"),""!==a.responseText?$(b).text(a.responseText):$(b).text("Oops! An error occured and your message could not be sent.")})})}),$(".field input, .field textarea").focus(function(){$(this).parent().addClass("focused"),$(this).siblings().addClass("focused")}),$(".field input, .field textarea").blur(function(){$(this).filter(function(){return $(this).val()}).length>0||($(this).parent().removeClass("focused"),$(this).siblings().toggleClass("focused"))})};!function(a,b,c,d){"use strict";if(!b.history.pushState)return a.fn.smoothState=function(){return this},void(a.fn.smoothState.options={});if(!a.fn.smoothState){var e=a("html, body"),f=b.console,g={debug:!1,anchors:"a",forms:"form",allowFormCaching:!1,repeatDelay:500,blacklist:".no-smoothState",prefetch:!1,prefetchOn:"mouseover touchstart",cacheLength:0,loadingClass:"is-loading",alterRequest:function(a){return a},onBefore:function(a,b){},onStart:{duration:0,render:function(a){}},onProgress:{duration:0,render:function(a){}},onReady:{duration:0,render:function(a,b){a.html(b)}},onAfter:function(a,b){}},h={isExternal:function(a){var c=a.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof c[1]&&c[1].length>0&&c[1].toLowerCase()!==b.location.protocol?!0:"string"==typeof c[2]&&c[2].length>0&&c[2].replace(new RegExp(":("+{"http:":80,"https:":443}[b.location.protocol]+")?$"),"")!==b.location.host?!0:!1},stripHash:function(a){return a.replace(/#.*/,"")},isHash:function(a,c){c=c||b.location.href;var d=a.indexOf("#")>-1?!0:!1,e=h.stripHash(a)===h.stripHash(c)?!0:!1;return d&&e},translate:function(b){var c={dataType:"html",type:"GET"};return b="string"==typeof b?a.extend({},c,{url:b}):a.extend({},c,b)},shouldLoadAnchor:function(a,b){var c=a.prop("href");return!(h.isExternal(c)||h.isHash(c)||a.is(b)||a.prop("target"))},clearIfOverCapacity:function(a,b){return Object.keys||(Object.keys=function(a){var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c}),Object.keys(a).length>b&&(a={}),a},storePageIn:function(b,c,d,e){var f=a("<html></html>").append(a(d));return b[c]={status:"loaded",title:f.find("title").first().text(),html:f.find("#"+e)},b},triggerAllAnimationEndEvent:function(b,c){c=" "+c||"";var d=0,e="animationstart webkitAnimationStart oanimationstart MSAnimationStart",f="animationend webkitAnimationEnd oanimationend MSAnimationEnd",g="allanimationend",i=function(c){a(c.delegateTarget).is(b)&&(c.stopPropagation(),d++)},j=function(c){a(c.delegateTarget).is(b)&&(c.stopPropagation(),d--,0===d&&b.trigger(g))};b.on(e,i),b.on(f,j),b.on("allanimationend"+c,function(){d=0,h.redraw(b)})},redraw:function(a){a.height()}},i=function(c){if(null!==c.state){var d=b.location.href,e=a("#"+c.state.id),f=e.data("smoothState");f.href===d||h.isHash(d,f.href)||f.load(d,!1)}},j=function(g,i){var j=a(g),k=j.prop("id"),l=null,m=!1,n={},o=b.location.href,p=function(a){a=a||!1,a&&n.hasOwnProperty(a)?delete n[a]:n={},j.data("smoothState").cache=n},q=function(b,c){c=c||a.noop;var d=h.translate(b);if(n=h.clearIfOverCapacity(n,i.cacheLength),!n.hasOwnProperty(d.url)||"undefined"!=typeof d.data){n[d.url]={status:"fetching"};var e=a.ajax(d);e.success(function(a){h.storePageIn(n,d.url,a,k),j.data("smoothState").cache=n}),e.error(function(){n[d.url].status="error"}),c&&e.complete(c)}},r=function(){if(l){var b=a(l,j);if(b.length){var c=b.offset().top;e.scrollTop(c)}l=null}},s=function(d){var g="#"+k,h=n[d]?a(n[d].html.html()):null;h.length?(c.title=n[d].title,j.data("smoothState").href=d,i.loadingClass&&e.removeClass(i.loadingClass),i.onReady.render(j,h),j.one("ss.onReadyEnd",function(){m=!1,i.onAfter(j,h),r()}),b.setTimeout(function(){j.trigger("ss.onReadyEnd")},i.onReady.duration)):!h&&i.debug&&f?f.warn("No element with an id of "+g+" in response from "+d+" in "+n):b.location=d},t=function(a,c,d){var g=h.translate(a);"undefined"==typeof c&&(c=!0),"undefined"==typeof d&&(d=!0);var l=!1,m=!1,o={loaded:function(){var a=l?"ss.onProgressEnd":"ss.onStartEnd";m&&l?m&&s(g.url):j.one(a,function(){s(g.url),d||p(g.url)}),c&&b.history.pushState({id:k},n[g.url].title,g.url),m&&!d&&p(g.url)},fetching:function(){l||(l=!0,j.one("ss.onStartEnd",function(){i.loadingClass&&e.addClass(i.loadingClass),i.onProgress.render(j),b.setTimeout(function(){j.trigger("ss.onProgressEnd"),m=!0},i.onProgress.duration)})),b.setTimeout(function(){n.hasOwnProperty(g.url)&&o[n[g.url].status]()},10)},error:function(){i.debug&&f?f.log("There was an error loading: "+g.url):b.location=g.url}};n.hasOwnProperty(g.url)||q(g),i.onStart.render(j),b.setTimeout(function(){e.scrollTop(0),j.trigger("ss.onStartEnd")},i.onStart.duration),o[n[g.url].status]()},u=function(b){var c,d=a(b.currentTarget);h.shouldLoadAnchor(d,i.blacklist)&&!m&&(b.stopPropagation(),c=h.translate(d.prop("href")),c=i.alterRequest(c),q(c))},v=function(b){var c=a(b.currentTarget);if(!b.metaKey&&!b.ctrlKey&&h.shouldLoadAnchor(c,i.blacklist)&&(b.stopPropagation(),b.preventDefault(),!y())){z();var d=h.translate(c.prop("href"));m=!0,l=c.prop("hash"),d=i.alterRequest(d),i.onBefore(c,j),t(d)}},w=function(b){var c=a(b.currentTarget);if(!c.is(i.blacklist)&&(b.preventDefault(),b.stopPropagation(),!y())){z();var e={url:c.prop("action"),data:c.serialize(),type:c.prop("method")};m=!0,e=i.alterRequest(e),"get"===e.type.toLowerCase()&&(e.url=e.url+"?"+e.data),i.onBefore(c,j),t(e,d,i.allowFormCaching)}},x=0,y=function(){var a=null===i.repeatDelay,b=parseInt(Date.now())>x;return!(a||b)},z=function(){x=parseInt(Date.now())+parseInt(i.repeatDelay)},A=function(a){i.anchors&&(a.on("click",i.anchors,v),i.prefetch&&a.on(i.prefetchOn,i.anchors,u)),i.forms&&a.on("submit",i.forms,w)},B=function(){var a=j.prop("class");j.removeClass(a),h.redraw(j),j.addClass(a)};return i=a.extend({},a.fn.smoothState.options,i),null===b.history.state&&b.history.replaceState({id:k},c.title,o),h.storePageIn(n,o,c.documentElement.outerHTML,k),h.triggerAllAnimationEndEvent(j,"ss.onStartEnd ss.onProgressEnd ss.onEndEnd"),A(j),{href:o,cache:n,clear:p,load:t,fetch:q,restartCSSAnimations:B}},k=function(b){return this.each(function(){var c=this.tagName.toLowerCase();this.id&&"body"!==c&&"html"!==c&&!a.data(this,"smoothState")?a.data(this,"smoothState",new j(this,b)):!this.id&&f?f.warn("Every smoothState container needs an id but the following one does not have one:",this):"body"!==c&&"html"!==c||!f||f.warn("The smoothstate container cannot be the "+this.tagName+" tag")})};b.onpopstate=i,a.smoothStateUtility=h,a.fn.smoothState=k,a.fn.smoothState.options=g}}(jQuery,window,document);var start=function(){function a(){var a=$(this).scrollTop();Math.abs(f-a)<=g||(a>f&&a>h?$(".site-header").removeClass("is-visible top-nav").addClass("is-hidden"):a+$(window).height()<$(document).height()&&$(".site-header").removeClass("is-hidden").addClass("is-visible"),.3*i>a&&$(".site-header").addClass("top-nav"),$(window).scrollTop()+$(window).height()==$(document).height()&&$(".site-header").removeClass("is-hidden").addClass("is-visible"),f=a)}var b=["/assets/img/headerphoto_1.jpg","/assets/img/headerphoto_2.jpg","/assets/img/headerphoto_3.jpg"],c=b[Math.floor(Math.random()*b.length)],d=new Image;d.onload=function(){$(".section--home__background").css("background-image","url("+c+")"),$(".section--home__background").addClass("animated")},d.src=c,"Jason Etcovitch"===document.title&&$('nav [data-anchor^="#"]').each(function(){var a=$(this).attr("data-anchor");$(this).attr("href",a)}),$('nav a[href^="#"]').on("click",function(a){a.preventDefault();var b=this.hash,c=$(b);$("html, body").stop().animate({scrollTop:c.offset().top},900,"swing",function(){})});var e,f=0,g=5,h=$(".site-header").outerHeight(),i=$(window).height();$(window).scroll(function(a){e=!0}),setInterval(function(){e&&(a(),e=!1)},100);var j=$(".site-header__button"),k=$(".site-header__overlay"),l=$(".site-header, .site-header__overlay, .site-header__button");j.click(function(){l.toggleClass("mobile-nav--toggled")}),k.click(function(){l.removeClass("mobile-nav--toggled")}),$(".site-header a").click(function(){l.removeClass("mobile-nav--toggled")});var m=$(".featured__slider").children().length;$(".featured__slide:nth-child(1)").addClass("featured__slide--active");var n=function(){var a=$(".featured__slide--active");$(".featured__slide:nth-child("+m+")").hasClass("featured__slide--active")?(a.removeClass("featured__slide--active"),$(".featured__slide:nth-child(1)").addClass("featured__slide--active")):(a.removeClass("featured__slide--active"),a.next().addClass("featured__slide--active"))},o=function(){var a=$(".featured__slide--active");$(".featured__slide:nth-child(1)").hasClass("featured__slide--active")?(a.removeClass("featured__slide--active"),$(".featured__slide:nth-child("+m+")").addClass("featured__slide--active")):(a.removeClass("featured__slide--active"),a.prev().addClass("featured__slide--active"))};$(".next").click(n),$(".prev").click(o)};!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-72564268-1","jasonetcovitch.com",{allowLinker:!0}),ga("require","linker"),ga("linker:autoLink",["jasonet.co"]),$(document).ready(function(){start(),form_start()}),$(function(){"use strict";var a=$("html, body"),b={prefetch:!0,cacheLength:2,onStart:{duration:750,render:function(b){b.addClass("is-exiting"),a.animate({scrollTop:0}),c.restartCSSAnimations()}},onReady:{duration:0,render:function(a,b){a.removeClass("is-exiting"),a.html(b)}},onAfter:function(a){start(),form_start(),ga("set",{page:document.location.pathname,title:document.title}),ga("send","pageview")}},c=$("#main").smoothState(b).data("smoothState")});